(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-82e6665c"],{"263c":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.profile&&!e.profile.guest?n("div",[n("div",{staticClass:"flex mt-8"},[n("div",{staticClass:"w-1/2 text-left"},[n("p",{staticClass:"font-bold"},[e._v("Niveau "+e._s(e.profile.level))])]),n("div",{staticClass:"w-1/2 text-right"},[n("p",{staticClass:"font-bold"},[e._v(" "+e._s(e.profile.experienceInLevel)+" / "+e._s(e.profile.experienceForLevel)+" ")])])]),n("popper",{attrs:{options:{placement:"top"}}},[n("div",{staticClass:"flex mt-2",attrs:{slot:"reference"},slot:"reference"},[n("div",{staticClass:"w-full"},[n("div",{staticClass:"relative pt-1"},[n("div",{staticClass:"overflow-hidden h-6 flex text-base rounded-full bg-gray-500"},[n("div",{staticClass:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-dark-blue-500",style:{width:e.profile.levelProgress+"%"}},[e.profile.levelProgress>20?n("span",[e._v(" "+e._s(e._f("round")(e.profile.levelProgress))+" % ")]):e._e()]),e.profile.levelProgress<=20?n("span",{staticClass:"flex-grow text-center h-full text-dark-blue-800 leading-6"},[e._v(" "+e._s(e._f("round")(e.profile.levelProgress))+" % ")]):e._e()])])])]),n("div",{staticClass:"popper"},[e._v("Expérience totale : "+e._s(e.profile.experience))])])],1):e._e()},r=[],i=n("5cec"),o=n.n(i),a={components:{popper:o.a},props:{profile:Object}},l=a,u=n("2be6"),c=Object(u["a"])(l,s,r,!1,null,null,null);t["a"]=c.exports},"2a8c":function(e,t,n){},"32f5":function(e,t,n){"use strict";var s=n("95b2"),r=n("157c"),i=n("37d1"),o=n("b495"),a=n("8bb2"),l=n("730c"),u=n("e3f6"),c=n("df8c"),d=Math.max,m=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};s("replace",2,(function(e,t,n,s){var v=s.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=s.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function(n,s){var r=l(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r,s):t.call(String(r),n,s)},function(e,s){if(!v&&x||"string"===typeof s&&-1===s.indexOf(b)){var i=n(t,e,this,s);if(i.done)return i.value}var l=r(e),f=String(this),p="function"===typeof s;p||(s=String(s));var h=l.global;if(h){var _=l.unicode;l.lastIndex=0}var C=[];while(1){var R=c(l,f);if(null===R)break;if(C.push(R),!h)break;var y=String(R[0]);""===y&&(l.lastIndex=u(f,o(l.lastIndex),_))}for(var T="",q=0,E=0;E<C.length;E++){R=C[E];for(var k=String(R[0]),L=d(m(a(R.index),f.length),0),P=[],S=1;S<R.length;S++)P.push(g(R[S]));var O=R.groups;if(p){var A=[k].concat(P,L,f);void 0!==O&&A.push(O);var j=String(s.apply(void 0,A))}else j=w(k,f,L,P,O,s);L>=q&&(T+=f.slice(q,L)+j,q=L+k.length)}return T+f.slice(q)}];function w(e,n,s,r,o,a){var l=s+e.length,u=r.length,c=h;return void 0!==o&&(o=i(o),c=p),t.call(a,c,(function(t,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,s);case"'":return n.slice(l);case"<":a=o[i.slice(1,-1)];break;default:var c=+i;if(0===c)return t;if(c>u){var d=f(c/10);return 0===d?t:d<=u?void 0===r[d-1]?i.charAt(1):r[d-1]+i.charAt(1):t}a=r[c-1]}return void 0===a?"":a}))}}))},"33ba":function(e,t,n){"use strict";var s=n("c828"),r=n.n(s);r.a},"37e9":function(e,t,n){"use strict";var s=n("4539"),r=n.n(s);r.a},4539:function(e,t,n){},"6e12":function(e,t,n){"use strict";var s=n("2a8c"),r=n.n(s);r.a},"741a":function(e,t,n){var s,r;
/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(i,o){s=o,r="function"===typeof s?s.call(t,n,t,e):s,void 0===r||(e.exports=r)})(0,(function(){var e,t,n="2.0.6",s={},r={},i={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},o={currentLocale:i.currentLocale,zeroFormat:i.zeroFormat,nullFormat:i.nullFormat,defaultFormat:i.defaultFormat,scalePercentBy100:i.scalePercentBy100};function a(e,t){this._input=e,this._value=t}return e=function(n){var r,i,l,u;if(e.isNumeral(n))r=n.value();else if(0===n||"undefined"===typeof n)r=0;else if(null===n||t.isNaN(n))r=null;else if("string"===typeof n)if(o.zeroFormat&&n===o.zeroFormat)r=0;else if(o.nullFormat&&n===o.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(i in s)if(u="function"===typeof s[i].regexps.unformat?s[i].regexps.unformat():s[i].regexps.unformat,u&&n.match(u)){l=s[i].unformat;break}l=l||e._.stringToNumber,r=l(n)}else r=Number(n)||null;return new a(n,r)},e.version=n,e.isNumeral=function(e){return e instanceof a},e._=t={numberToFormat:function(t,n,s){var i,o,a,l,u,c,d,m=r[e.options.currentLocale],f=!1,p=!1,h=0,g="",v=1e12,x=1e9,b=1e6,w=1e3,_="",C=!1;if(t=t||0,o=Math.abs(t),e._.includes(n,"(")?(f=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(u=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(i=n.match(/a(k|m|b|t)?/),i=!!i&&i[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),o>=v&&!i||"t"===i?(g+=m.abbreviations.trillion,t/=v):o<v&&o>=x&&!i||"b"===i?(g+=m.abbreviations.billion,t/=x):o<x&&o>=b&&!i||"m"===i?(g+=m.abbreviations.million,t/=b):(o<b&&o>=w&&!i||"k"===i)&&(g+=m.abbreviations.thousand,t/=w)),e._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],l=n.split(".")[1],c=n.indexOf(","),h=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(e._.includes(l,"[")?(l=l.replace("]",""),l=l.split("["),_=e._.toFixed(t,l[0].length+l[1].length,s,l[1].length)):_=e._.toFixed(t,l.length,s),a=_.split(".")[0],_=e._.includes(_,".")?m.delimiters.decimal+_.split(".")[1]:"",p&&0===Number(_.slice(1))&&(_="")):a=e._.toFixed(t,0,s),g&&!i&&Number(a)>=1e3&&g!==m.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case m.abbreviations.thousand:g=m.abbreviations.million;break;case m.abbreviations.million:g=m.abbreviations.billion;break;case m.abbreviations.billion:g=m.abbreviations.trillion;break}if(e._.includes(a,"-")&&(a=a.slice(1),C=!0),a.length<h)for(var R=h-a.length;R>0;R--)a="0"+a;return c>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m.delimiters.thousands)),0===n.indexOf(".")&&(a=""),d=a+_+(g||""),f?d=(f&&C?"(":"")+d+(f&&C?")":""):u>=0?d=0===u?(C?"-":"+")+d:d+(C?"-":"+"):C&&(d="-"+d),d},stringToNumber:function(e){var t,n,s,i=r[o.currentLocale],a=e,l={thousand:3,million:6,billion:9,trillion:12};if(o.zeroFormat&&e===o.zeroFormat)n=0;else if(o.nullFormat&&e===o.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==i.delimiters.decimal&&(e=e.replace(/\./g,"").replace(i.delimiters.decimal,".")),l)if(s=new RegExp("[^a-zA-Z]"+i.abbreviations[t]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),a.match(s)){n*=Math.pow(10,l[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"===typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof t)throw new TypeError(t+" is not a function");var n,s=Object(e),r=s.length>>>0,i=0;if(3===arguments.length)n=arguments[2];else{while(i<r&&!(i in s))i++;if(i>=r)throw new TypeError("Reduce of empty array with no initial value");n=s[i++]}for(;i<r;i++)i in s&&(n=t(n,s[i],i,s));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce((function(e,n){var s=t.multiplier(n);return e>s?e:s}),1)},toFixed:function(e,t,n,s){var r,i,o,a,l=e.toString().split("."),u=t-(s||0);return r=2===l.length?Math.min(Math.max(l[1].length,u),t):u,o=Math.pow(10,r),a=(n(e+"e+"+r)/o).toFixed(r),s>t-r&&(i=new RegExp("\\.?0{1,"+(s-(t-r))+"}$"),a=a.replace(i,"")),a}},e.options=o,e.formats=s,e.locales=r,e.locale=function(e){return e&&(o.currentLocale=e.toLowerCase()),o.currentLocale},e.localeData=function(e){if(!e)return r[o.currentLocale];if(e=e.toLowerCase(),!r[e])throw new Error("Unknown locale : "+e);return r[e]},e.reset=function(){for(var e in i)o[e]=i[e]},e.zeroFormat=function(e){o.zeroFormat="string"===typeof e?e:null},e.nullFormat=function(e){o.nullFormat="string"===typeof e?e:null},e.defaultFormat=function(e){o.defaultFormat="string"===typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var s,r,i,o,a,l,u,c;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),t.match(/^\d+$/))return!0;if(""===t)return!1;try{u=e.localeData(n)}catch(d){u=e.localeData(e.locale())}return i=u.currency.symbol,a=u.abbreviations,s=u.delimiters.decimal,r="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,c=t.match(/^[^\d]+/),(null===c||(t=t.substr(1),c[0]===i))&&(c=t.match(/[^\d]+$/),(null===c||(t=t.slice(0,-1),c[0]===a.thousand||c[0]===a.million||c[0]===a.billion||c[0]===a.trillion))&&(l=new RegExp(r+"{2}"),!t.match(/[^\d.,]/g)&&(o=t.split(s),!(o.length>2)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/)))))},e.fn=a.prototype={clone:function(){return e(this)},format:function(t,n){var r,i,a,l=this._value,u=t||o.defaultFormat;if(n=n||Math.round,0===l&&null!==o.zeroFormat)i=o.zeroFormat;else if(null===l&&null!==o.nullFormat)i=o.nullFormat;else{for(r in s)if(u.match(s[r].regexps.format)){a=s[r].format;break}a=a||e._.numberToFormat,i=a(l,u,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);function s(e,t,s,r){return e+Math.round(n*t)}return this._value=t.reduce([this._value,e],s,0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);function s(e,t,s,r){return e-Math.round(n*t)}return this._value=t.reduce([e],s,Math.round(this._value*n))/n,this},multiply:function(e){function n(e,n,s,r){var i=t.correctionFactor(e,n);return Math.round(e*i)*Math.round(n*i)/Math.round(i*i)}return this._value=t.reduce([this._value,e],n,1),this},divide:function(e){function n(e,n,s,r){var i=t.correctionFactor(e,n);return Math.round(e*i)/Math.round(n*i)}return this._value=t.reduce([this._value,e],n),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,s){var r,i=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),r=e._.numberToFormat(t,n,s),e._.includes(r,")")?(r=r.split(""),r.splice(-1,0,i+"BPS"),r=r.join("")):r=r+i+"BPS",r},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}})}(),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},s=t.suffixes.concat(n.suffixes.filter((function(e){return t.suffixes.indexOf(e)<0}))),r=s.join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(s,r,i){var o,a,l,u,c=e._.includes(r,"ib")?n:t,d=e._.includes(r," b")||e._.includes(r," ib")?" ":"";for(r=r.replace(/\s?i?b/,""),a=0;a<=c.suffixes.length;a++)if(l=Math.pow(c.base,a),u=Math.pow(c.base,a+1),null===s||0===s||s>=l&&s<u){d+=c.suffixes[a],l>0&&(s/=l);break}return o=e._.numberToFormat(s,r,i),o+d},unformat:function(s){var r,i,o=e._.stringToNumber(s);if(o){for(r=t.suffixes.length-1;r>=0;r--){if(e._.includes(s,t.suffixes[r])){i=Math.pow(t.base,r);break}if(e._.includes(s,n.suffixes[r])){i=Math.pow(n.base,r);break}}o*=i||1}return o}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,s){var r,i,o,a=e.locales[e.options.currentLocale],l={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),r=e._.numberToFormat(t,n,s),t>=0?(l.before=l.before.replace(/[\-\(]/,""),l.after=l.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(l.before,"-")&&!e._.includes(l.before,"(")&&(l.before="-"+l.before),o=0;o<l.before.length;o++)switch(i=l.before[o],i){case"$":r=e._.insert(r,a.currency.symbol,o);break;case" ":r=e._.insert(r," ",o+a.currency.symbol.length-1);break}for(o=l.after.length-1;o>=0;o--)switch(i=l.after[o],i){case"$":r=o===l.after.length-1?r+a.currency.symbol:e._.insert(r,a.currency.symbol,-(l.after.length-(1+o)));break;case" ":r=o===l.after.length-1?r+" ":e._.insert(r," ",-(l.after.length-(1+o)+a.currency.symbol.length-1));break}return r}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,s){var r,i="number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential(),o=i.split("e");return n=n.replace(/e[\+|\-]{1}0/,""),r=e._.numberToFormat(Number(o[0]),n,s),r+"e"+o[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),s=Number(n[0]),r=Number(n[1]);function i(t,n,s,r){var i=e._.correctionFactor(t,n),o=t*i*(n*i)/(i*i);return o}return r=e._.includes(t,"e-")?r*=-1:r,e._.reduce([s,Math.pow(10,r)],i,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,s){var r,i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),r=e._.numberToFormat(t,n,s),r+o}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,s){var r,i=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),r=e._.numberToFormat(t,n,s),e._.includes(r,")")?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var s=Math.floor(e/60/60),r=Math.floor((e-60*s*60)/60),i=Math.round(e-60*s*60-60*r);return s+":"+(r<10?"0"+r:r)+":"+(i<10?"0"+i:i)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}})}(),e}))},"841a":function(e,t,n){"use strict";var s=n("6b1d"),r=n("d054").find,i=n("ed2b"),o=n("ce71"),a="find",l=!0,u=o(a);a in[]&&Array(1)[a]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!u},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},"9ad7":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col"},[n("button",{staticClass:"p-1 ml-auto bg-transparent border-0 text-gray-300 absolute right-4 top-4 leading-none outline-none focus:outline-none hover:text-electric-blue-500",on:{click:function(t){return e.$emit("close")}}},[n("span",{staticClass:"h-6 w-6 block outline-none focus:outline-none "},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)]),e.loaded?n("div",{staticClass:"flex flex-col w-full"},[n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"flex flex-row items-center w-full max-w-full justify-start"},[n("div",{staticClass:"mr-3"},[n("font-awesome-layers",{staticClass:"fa-2x",attrs:{"full-width":""}},[n("font-awesome-icon",{staticClass:"text-clean-blue-500",attrs:{icon:"certificate"}}),n("font-awesome-layers-text",{staticClass:"text-electric-blue-500",attrs:{transform:"shrink-8",value:e.profile.level}})],1)],1),n("div",{staticClass:"text-base xl:text-sm truncate"},[e._v(" "+e._s(e.profile.name)+" ")])])]),n("div",{staticClass:"flex flex-col justify-center mt-6"},[n("div",{staticClass:"flex flex-row justify-center items-center"},[n("div",{staticClass:"text-2xl w-2/5 font-bold text-right mr-4"},[e._v(" "+e._s(e.profile.playedGames)+" ")]),e.profile.playedGames>1?n("div",{staticClass:"w-3/5 text-xl"},[e._v(" parties jouées ")]):e._e(),e.profile.playedGames<=1?n("div",{staticClass:"w-3/5 text-xl"},[e._v(" partie jouée ")]):e._e()]),n("div",{staticClass:"flex flex-row justify-center items-center"},[n("div",{staticClass:"text-2xl w-2/5 font-bold text-right mr-4"},[e._v(" "+e._s(e.profile.leaderboardGames)+" ")]),e.profile.leaderboardGames>1?n("div",{staticClass:"w-3/5 text-xl"},[e._v(" podiums ")]):e._e(),e.profile.leaderboardGames<=1?n("div",{staticClass:"w-3/5 text-xl"},[e._v(" podium ")]):e._e()]),n("div",{staticClass:"flex flex-row justify-center items-center"},[n("div",{staticClass:"text-2xl w-2/5 font-bold text-right mr-4"},[e._v(" "+e._s(e.profile.wonGames)+" ")]),e.profile.wonGames>1?n("div",{staticClass:"w-3/5 text-xl"},[e._v(" victoires ")]):e._e(),e.profile.wonGames<=1?n("div",{staticClass:"w-3/5 text-xl"},[e._v(" victoire ")]):e._e()]),n("div",{staticClass:"flex flex-row justify-center items-center"},[n("div",{staticClass:"text-2xl w-2/5 font-bold text-right mr-4"},[e._v(" "+e._s(e._f("round")(100*e.profile.successRatio))+" % ")]),n("div",{staticClass:"w-3/5 text-xl"},[e._v("de réussite")])]),n("div",{staticClass:"flex flex-row justify-center items-center"},[n("div",{staticClass:"text-2xl w-2/5 font-bold text-right mr-4"},[e._v(" "+e._s(e.profile.trophiesObtained)+" ")]),e.profile.trophiesObtained>1?n("div",{staticClass:"w-3/5 text-xl"},[e._v(" trophées ")]):e._e(),e.profile.trophiesObtained<=1?n("div",{staticClass:"w-3/5 text-xl"},[e._v(" trophée ")]):e._e()])])]):e._e(),e.loading?n("AppLoader"):e._e()],1)},r=[],i=(n("df26"),n("42c2")),o=n("c863"),a=n("baea"),l=n("35ca"),u={components:{AppLoader:o["a"]},mixins:[a["a"]],props:{userId:String},data:function(){return{profile:void 0}},mounted:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{innerLoad:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].getUserProfile(e.userId);case 2:e.profile=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},c=u,d=n("2be6"),m=Object(d["a"])(c,s,r,!1,null,null,null);t["a"]=m.exports},b21e:function(e,t,n){"use strict";var s=n("d9e2"),r=n.n(s);r.a},b244:function(e,t,n){},c828:function(e,t,n){},d9e2:function(e,t,n){},da3b:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-grow flex max-w-full xl:mx-auto xl:max-w-screen-xl"},[n("GameResultScreen",{class:[e.gameResultVisible?void 0:"hidden"],attrs:{room:e.room}}),n("div",{class:["flex-grow","md:flex","space-x-6","my-8","max-w-full",e.gameResultVisible?"hidden":void 0,e.gameResultVisible?"md:hidden":void 0]},[n("div",{staticClass:"w-full hidden md:flex md:w-2/5 flex-col items-center content-center"},[n("RoomCommandPanel",{attrs:{room:e.room,commands:e.commands}}),n("PlayerList",{attrs:{room:e.room,"player-limit":50,title:!0}}),n("div",{staticClass:"flex-grow"}),n("CurrentPlayerDetails",{attrs:{room:e.room}})],1),n("div",{staticClass:"w-full h-full md:w-3/5 mt-5 md:mt-0 flex flex-col justify-between"},[n("div",{staticClass:"flex-grow flex flex-col items-center content-center justify-start"},[n("div",{staticClass:"flex flex-col w-full"},[e.paused?n("div",{staticClass:"text-center mb-8 bg-gradient-tr-gray py-2 rounded-md"},[n("p",[e._v("Partie en pause")])]):e._e(),e.waitingForHost?n("div",{staticClass:"text-center mb-8 bg-gradient-tr-gray py-2 rounded-md"},[n("p",[e._v("En attente du lancement de la partie...")])]):e._e(),e.connectionLost?n("div",{staticClass:"text-center mb-8 bg-gradient-tr-blue py-2 rounded-md"},[n("p",[e._v("Connexion perdue, tentative de reconnexion...")])]):e._e(),n("JoiningTimer",{attrs:{room:e.room}}),n("PreGameTimer",{attrs:{room:e.room}}),n("GameQuestion",{attrs:{room:e.room}}),n("QuestionAnswerResult",{attrs:{room:e.room}})],1)]),e.canSeeAnswerHistory?n("AnswerHistory",{attrs:{room:e.room}}):e._e(),n("GameHistoryIndicator",{attrs:{room:e.room}}),n("AnswerInput",{attrs:{room:e.room}})],1)]),n("GameAudioPlayer",{attrs:{room:e.room}})],1)},r=[],i=(n("8d0d"),n("2aa5"),n("c78b"),n("32f5"),n("df26"),n("42c2")),o=n("9ec3"),a=n.n(o),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible&&e.answers.length>0?n("div",{staticClass:"hidden lg:flex flex-col"},[n("div",{staticClass:"grid grid-cols-2 gap-2"},e._l(e.answers,(function(t,s){return n("div",{key:s,staticClass:"flex py-2 px-3 bg-gray-700 rounded-lg flex-row align-center items-center"},[0===t.result?n("font-awesome-layers",{staticClass:"text-xl mr-2 w-6"},[n("font-awesome-icon",{staticClass:"text-red-600",attrs:{icon:"circle"}}),n("font-awesome-icon",{staticClass:"text-white",attrs:{icon:"times",transform:"shrink-5"}})],1):e._e(),1===t.result?n("div",{staticClass:"w-6"},[n("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"pencil-alt"}})],1):e._e(),2===t.result?n("font-awesome-layers",{staticClass:"text-xl mr-2 w-6"},[n("font-awesome-icon",{staticClass:"text-green-600",attrs:{icon:"circle"}}),n("font-awesome-icon",{staticClass:"text-white",attrs:{icon:"check",transform:"shrink-7"}})],1):e._e(),n("span",{staticClass:"flex-grow"},[e._v(e._s(t.value))])],1)})),0)]):e._e()},u=[],c={props:{room:Object},data:function(){return{visible:!1,answers:[]}},watch:{room:{handler:function(){this.setupRoomListeners()}}},mounted:function(){this.setupRoomListeners()},methods:{setupRoomListeners:function(){var e=this;this.room.onMessage("game.phase",(function(t){"QUESTION"===t.type?(e.answers=[],e.visible=!0):"QUESTION_RESULT"===t.type?e.visible=!0:"QUESTION"!==t.type&&"GAME_RESULT"!==t.type||(e.visible=!1,e.answers=[])})),this.room.onMessage("question.almost.answered",(function(t){e.answers.push({result:1,value:t.userInput})})),this.room.onMessage("question.answered",(function(t){e.answers.push({result:2,value:t.userInput})})),this.room.onMessage("question.not.answered",(function(t){e.answers.push({result:0,value:t.userInput})}))}}},d=c,m=n("2be6"),f=Object(m["a"])(d,l,u,!1,null,null,null),p=f.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppCard",{class:["mt-4",e.success?"shine":void 0],attrs:{"small-padding-y":""}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submitAnswer()}}},[n("div",{staticClass:"flex flex-row items-center h-12 bg-transparent"},[e.answerClose?n("div",{staticClass:"absolute right-22 animate__animated animate__headShake"},[e._v(" Réponse proche ! ")]):e._e(),e.suspiciousActivityDetected?n("div",{staticClass:"absolute mx-auto text-red-500"},[e._v(" Le changement de page est interdit ")]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.answerContent,expression:"answerContent"}],ref:"textField",staticClass:"focus:outline-none h-full w-full text-2xl  bg-transparent",attrs:{type:"text",disabled:e.questionOngoing&&(0===e.currentTrialCounter||e.suspiciousActivityDetected),autocomplete:"off"},domProps:{value:e.answerContent},on:{keydown:e.onKeyDown,paste:function(t){return t.preventDefault(),e.onPaste(t)},input:function(t){t.target.composing||(e.answerContent=t.target.value)}}}),e.questionOngoing?n("div",{staticClass:"w-12 h-12 flex pt-1 mr-2",attrs:{options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[n("VueEllipseProgress",{attrs:{progress:100*(e.questionTime-e.questionRemainingTime)/e.questionTime,color:"#e2e8f0","empty-color":"#204A6C",thickness:4,"empty-thickness":4,size:40,animation:"default 400 200","font-color":"#e2e8f0","legend-value":e.questionRemainingTime,"font-size":".9rem"}},[n("span",{attrs:{slot:"legend-value"},slot:"legend-value"})])],1):e._e(),e.questionResultOngoing?n("div",{staticClass:"w-12 h-12 flex pt-1",attrs:{options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[n("VueEllipseProgress",{attrs:{progress:100*(e.questionResultTime-e.questionResultRemainingTime)/e.questionResultTime,color:"#e2e8f0","empty-color":"#204A6C",thickness:4,"empty-thickness":4,size:40,animation:"default 400 200","font-color":"#e2e8f0","legend-value":e.questionResultRemainingTime,"font-size":".9rem"}},[n("span",{attrs:{slot:"legend-value"},slot:"legend-value"})])],1):e._e(),e.questionOngoing?n("popper",{staticClass:"text-lg -mr-2"},[n("div",{staticClass:"flex justify-between flex-col",attrs:{slot:"reference"},slot:"reference"},e._l(e.initialTrialCounter,(function(t){return n("div",{key:t,staticClass:"leading-0.7",class:[t>e.currentTrialCounter?"animate__animated":void 0,t>e.currentTrialCounter?"animate__fadeOutRight":void 0]},[n("font-awesome-icon",{staticClass:"text-xs",attrs:{icon:"heart"}})],1)})),0),n("span",{staticClass:"popper rounded-md text-sm p-1 z-10 bg-dark-blue-800"},[e._v(" Essais restants ")])]):e._e()],1)])])},g=[],v=n("5cec"),x=n.n(v),b=n("359f"),w=n("35ca"),_={components:{AppCard:b["a"],popper:x.a},props:{room:Object},data:function(){var e=this;return{answerContent:"",lastSentValue:void 0,success:!1,questionTime:0,questionRemainingTime:0,questionOngoing:!1,questionResultTime:0,questionResultRemainingTime:0,questionResultOngoing:!1,answerClose:!1,questionAnsweredCorrectly:!1,suspiciousActivityDetected:!1,closeAnswerTimeout:void 0,initialTrialCounter:0,currentTrialCounter:0,userRoles:[],visibilityEventListener:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.questionOngoing||e.questionAnsweredCorrectly||!e.anticheatEnabled){t.next=4;break}return e.suspiciousActivityDetected=!0,t.next=4,w["a"].addSuspiciousActivity("PAGE_HIDDEN");case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),focusBlurEventListener:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.questionOngoing||e.questionAnsweredCorrectly||!e.anticheatEnabled){t.next=4;break}return e.suspiciousActivityDetected=!0,t.next=4,w["a"].addSuspiciousActivity("WINDOW_BLUR");case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}},computed:{anticheatEnabled:function(){return!a.a.includes(this.userRoles,"ANTICHEAT_BYPASS")&&(!this.room||!this.room.state||this.room.state.anticheatEnabled)}},watch:{questionRemainingTime:{handler:function(e){var t=this;e>0&&setTimeout((function(){t.questionRemainingTime>0&&t.questionRemainingTime--}),1e3)},immediate:!0},questionResultRemainingTime:{handler:function(e){var t=this;e>0&&setTimeout((function(){t.questionResultRemainingTime>0&&t.questionResultRemainingTime--}),1e3)},immediate:!0},room:{handler:function(){this.setupRoomListeners()}}},created:function(){document.addEventListener("visibilitychange",this.visibilityEventListener),window.addEventListener("focus",this.focusBlurEventListener),window.addEventListener("blur",this.focusBlurEventListener)},unmounted:function(){window.removeEventListener("blur",this.focusBlurEventListener),window.removeEventListener("focus",this.focusBlurEventListener),document.removeEventListener("visibilitychange",this.visibilityEventListener)},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setupRoomListeners(),t.next=3,w["a"].getCurrentUserRoles();case 3:e.userRoles=t.sent;case 4:case"end":return t.stop()}}),t)})))()},methods:{submitAnswer:function(){this.answerContent.length>0&&(this.room.send("answer",{answer:this.answerContent}),this.lastSentValue=this.answerContent,this.answerContent="")},onKeyDown:function(e){"ArrowUp"===e.key&&void 0!==this.lastSentValue?(this.answerContent=this.lastSentValue,this.lastSentValue=void 0,this.moveCursorToEnd()):"Tab"===e.key&&(e.preventDefault(),e.stopPropagation())},focusInputField:function(){var e=this;setTimeout((function(){e.$refs.textField&&e.$refs.textField.focus()}))},clearInputField:function(){this.answerContent=""},moveCursorToEnd:function(){var e=this.$refs.textField;if(e.setSelectionRange)setTimeout((function(){e.setSelectionRange(e.value.length,e.value.length)}),1);else if(e.createTextRange){var t=e.createTextRange();t.collapse(!1),t.select()}},displaySuccess:function(){var e=this;this.questionAnsweredCorrectly=!0,this.success=!0,setTimeout((function(){return e.success=!1}),750)},onPaste:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w["a"].addSuspiciousActivity("ANSWER_INPUT_PASTE");case 2:case"end":return e.stop()}}),e)})))()},setupRoomListeners:function(){var e=this;this.room&&(this.room.onMessage("question.almost.answered",(function(){e.answerClose=!0,e.closeAnswerTimeout&&clearTimeout(e.closeAnswerTimeout),e.closeAnswerTimeout=setTimeout((function(){e.answerClose=!1}),1e3)})),this.room.onMessage("question.answered",(function(){e.answerClose=!1,e.displaySuccess()})),this.room.onMessage("question.not.answered",(function(t){e.currentTrialCounter=t.remainingTrials})),this.room.onMessage("game.phase",(function(t){"QUESTION"===t.type?(e.questionTime=t.remainingSeconds,e.questionRemainingTime=t.remainingSeconds,e.questionOngoing=!0,e.questionResultOngoing=!1,e.initialTrialCounter=t.question.lifes,e.currentTrialCounter=t.question.lifes,e.focusInputField(),e.clearInputField()):"QUESTION_RESULT"===t.type&&(e.questionAnsweredCorrectly=!1,e.success=!1,e.questionOngoing=!1,e.questionResultOngoing=!0,e.suspiciousActivityDetected=!1,e.questionResultTime=t.remainingSeconds,e.questionResultRemainingTime=t.remainingSeconds-1),e.answerClose=!1})))}}},C=_,R=(n("33ba"),Object(m["a"])(C,h,g,!1,null,"6506266f",null)),y=R.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppCard",{staticClass:"mt-4",attrs:{"small-padding-y":""}},[n("div",{staticClass:"flex flex-col"},[n("PlayerListEntry",{attrs:{user:e.user}})],1)])},q=[],E=(n("841a"),n("868d"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("div",{class:["flex","flex-row","items-center","align-center","h-12",e.user.online?void 0:"opacity-50"]},[s("div",{staticClass:"w-8 h-8 mr-2 flex-shrink-0"},[e.user.position>0?s("div",{staticClass:"text-center text-lg"},[s("span",[e._v(e._s(e.user.position))])]):e._e()]),e.user&&!e.user.guest?s("div",{staticClass:"w-8 h-8 mr-1 hidden lg:flex flex-shrink-0 rounded-full"},[s("img",{staticClass:"rounded-full",attrs:{src:e.user.avatar}})]):e._e(),e.user&&!e.user.guest?s("div",{staticClass:"w-8 h-8 mr-2 hidden justify-center items-center lg:flex flex-shrink-0"},[s("PlayerBadge",{staticClass:"w-8 h-8",attrs:{path:e.user.badgePath,description:e.user.badgeDescription}})],1):e._e(),e.user&&e.user.guest?s("div",{staticClass:"w-16 mr-3 justify-start flex flex-row"},[e._m(0)]):e._e(),e.user.guest?s("div",{staticClass:"truncate"},[e._v(" "+e._s(e.user.name)+" ")]):e._e(),e.user.guest?e._e():s("div",{staticClass:"truncate cursor-pointer",on:{click:function(t){return t.preventDefault(),e.openProfileModal()}}},[e._v(" "+e._s(e.user.name)+" ")]),s("div",{staticClass:"flex-grow min-w-13"}),s("div",{staticClass:"w-6 text-center flex-shrink-0"},[1===e.user.questionResult?s("div",[s("img",{attrs:{src:n("8c9f")}})]):e._e(),2===e.user.questionResult?s("div",[s("img",{attrs:{src:n("cebc")}})]):e._e(),3===e.user.questionResult?s("div",[s("img",{attrs:{src:n("5bcf")}})]):e._e(),e.user.questionResult>3?s("div",[s("img",{attrs:{src:n("cea3")}})]):e._e()]),s("div",{staticClass:"font-bold flex-shrink-0 w-8 text-right"},[e._v(" "+e._s(e.user.points)+" ")])]):e._e()}),k=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-8 h-8 rounded-full shadow-md hidden lg:flex flex-shrink-0"},[s("img",{staticClass:"rounded-full border-2 border-white",attrs:{src:n("065f")}})])}],L=n("c95d"),P=n("9ad7"),S={components:{PlayerBadge:L["a"]},props:{user:Object},methods:{openProfileModal:function(){this.$modal.show(P["a"],{userId:this.user.id},{width:350})}}},O=S,A=Object(m["a"])(O,E,k,!1,null,null,null),j=A.exports,I={components:{AppCard:b["a"],PlayerListEntry:j},props:{room:Object},data:function(){return{user:void 0}},watch:{room:{handler:function(){this.setupRoomListeners()}}},created:function(){this.guest=this.$store.getters.guest,this.username=this.$store.getters.displayName},mounted:function(){this.setupRoomListeners()},methods:{updateWithState:function(e){var t=this,s=a.a.find(e.users,(function(e){return e.id===t.$store.getters.currentUser.uid}));s&&(this.user={id:s.id,guest:s.guest,name:s.name,avatar:s.avatarPath?n("e078")("./".concat(s.avatarPath,".png")):void 0,badgePath:s.badgePath,badgeDescription:s.badgeDescription,position:s.position,points:s.points,online:!0})},setupRoomListeners:function(){this.room&&(this.updateWithState(this.room.state),this.room.onStateChange(this.updateWithState.bind(this)))}}},M=I,$=Object(m["a"])(M,T,q,!1,null,null,null),N=$.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},U=[],B={props:{room:Object},watch:{room:{handler:function(){this.setupRoomListeners()}}},mounted:function(){this.setupRoomListeners()},methods:{setupRoomListeners:function(){var e=this;this.room&&(this.room.onMessage("question.changed",(function(){e.$audioPlayer.questionChanged()})),this.room.onMessage("question.answered",(function(){e.$audioPlayer.questionAnswered()})),this.room.onMessage("question.almost.answered",(function(){e.$audioPlayer.questionAlmostAnswered()})),this.room.onMessage("game.ended",(function(){e.$audioPlayer.gameEnded()})),this.room.onMessage("game.phase",(function(t){"GAME_END"===t.type&&e.$audioPlayer.gameResultEnded()})))}}},V=B,D=Object(m["a"])(V,F,U,!1,null,null,null),Q=D.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid grid-cols-15 h-30 items-center content-center mt-4"},e._l(e.displayedIndexes,(function(t){return n("div",{key:t,staticClass:"flex"},[n("QuestionResultIcon",{attrs:{result:e.questionResults[t]}})],1)})),0)},G=[],H=(n("8f0b"),n("cfce"),n("fa8c"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[0===e.result?s("img",{staticClass:"w-6 h-6 mx-auto",attrs:{src:n("24c4")}}):e._e(),1===e.result?s("img",{staticClass:"w-6 h-6 mx-auto",attrs:{src:n("8c9f")}}):e._e(),2===e.result?s("img",{staticClass:"w-6 h-6 mx-auto",attrs:{src:n("cebc")}}):e._e(),3===e.result?s("img",{staticClass:"w-6 h-6 mx-auto",attrs:{src:n("5bcf")}}):e._e(),e.result>3?s("img",{staticClass:"w-6 h-6 mx-auto",attrs:{src:n("cea3")}}):e._e(),e.result<0?s("div",{staticClass:"shadow-md mx-auto rounded-full h-5 w-5 bg-clean-blue-500"}):e._e()])}),W=[],Y=(n("e94e"),{props:{result:Number}}),J=Y,K=Object(m["a"])(J,H,W,!1,null,null,null),Z=K.exports,X={components:{QuestionResultIcon:Z},props:{room:Object},data:function(){return{questionCount:0,startIndex:0,questionResults:[],points:0,questionIndex:-1}},computed:{displayedIndexes:function(){return a.a.range(this.startIndex,this.startIndex+15)}},watch:{room:{handler:function(){this.setupRoomListeners()}}},mounted:function(){this.setupRoomListeners()},methods:{setupInitialQuestionResults:function(e){var t=this;a.a.range(0,e).forEach((function(e){a.a.isNil(t.questionResults[e])&&t.$set(t.questionResults,e,-1)}))},setupRoomListeners:function(){var e=this;this.room&&(this.room.onStateChange((function(t){e.setupInitialQuestionResults(t.questionCount)})),this.room.onMessage("question.answered",(function(t){e.$set(e.questionResults,t.questionIndex,t.questionResult),e.points=t.points})),this.room.onMessage("question.result",(function(t){t.questionIndex===e.questionIndex&&e.$set(e.questionResults,t.questionIndex,t.questionResult)})),this.room.onMessage("game.phase",(function(t){"GAME_START"===t.type?(e.startIndex=0,e.questionResults=a.a.fromPairs(a.a.range(0,e.room.state.questionCount).map((function(e){return[e,-1]}))),e.questionIndex=-1,e.points=0):"QUESTION"===t.type&&(e.startIndex=Math.max(0,t.questionIndex-14),e.questionIndex=t.questionIndex)})))}}},ee=X,te=Object(m["a"])(ee,z,G,!1,null,null,null),ne=te.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.questionVisible?s("div",{staticClass:"bg-dark-blue-800 rounded-xl p-6 w-full shadow-card text-gray-300 flex flex-col"},[s("div",{staticClass:"flex flex-row items-start"},[e.questionIndex>0?s("div",{staticClass:"font-bold flex-shrink-0 mr-4"},[s("span",{staticClass:"hidden lg:inline"},[e._v("Question ")]),s("span",[e._v(e._s(e.questionIndex)+" / "+e._s(e.totalQuestions))])]):e._e(),s("div",{staticClass:"flex-grow"}),s("div",{domProps:{innerHTML:e._s(e.theme)}}),s("div",{staticClass:"flex-grow"}),s("div",{staticClass:"flex flex-row flex-shrink-0 text-right"},[e.level>=1?s("img",{staticClass:"w-6 h-6 mx-2",attrs:{src:n("de1f")}}):e._e(),e.level>=2?s("img",{staticClass:"w-6 h-6 mx-2",attrs:{src:n("de1f")}}):e._e(),e.level>=3?s("img",{staticClass:"w-6 h-6 mx-2",attrs:{src:n("de1f")}}):e._e()])]),s("div",{staticClass:"mt-10 mb-6 text-2xl text-center select-none",style:"font-family: '"+e.fontName+"';"},[e._v(" "+e._s(e.question)+" ")]),e.goodAnswerPercentage?s("div",{staticClass:"text-center"},[e._v(" Bonnes réponses : "+e._s(e.goodAnswerCount)+" / "+e._s(e.userCount)+" ("+e._s(e.goodAnswerPercentage)+") ")]):e._e()]):e._e()},re=[],ie=n("741a"),oe=n.n(ie),ae={props:{room:Object},data:function(){return{questionWidth:0,questionHeight:0,question:void 0,questionVisible:!1,questionIndex:0,totalQuestions:0,level:void 0,theme:void 0,goodAnswerCount:0,userCount:0,goodAnswerPercentage:void 0,fontName:void 0}},watch:{room:{handler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setupRoomListeners();case 2:case"end":return t.stop()}}),t)})))()}}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setupRoomListeners();case 2:case"end":return t.stop()}}),t)})))()},methods:{updateWithInitialState:function(e){var t,n,s;this.question=null===(t=e.question)||void 0===t?void 0:t.label,this.theme=null===(n=e.question)||void 0===n?void 0:n.theme,this.level=null===(s=e.question)||void 0===s?void 0:s.level},updateWithState:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("state.font.name :>> ",e.font.name),console.log("this.fontName :>> ",t.fontName),!e.font.name||t.fontName===e.font.name){n.next=15;break}return t.fontName=e.font.name,console.log("state.font :>> ",e.font),s=new FontFace(e.font.name,"url(".concat(e.font.url,")")),n.prev=6,n.next=9,s.load();case 9:document.fonts.add(s),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](6),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[6,12]])})))()},setupRoomListeners:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.room&&(e.room.state&&e.updateWithInitialState(e.room.state),e.room.onStateChange(e.updateWithState.bind(e)),e.room.onMessage("game.phase",(function(t){var n,s,r;"QUESTION"===t.type||"QUESTION_RESULT"===t.type?(e.question=null===(n=t.question)||void 0===n?void 0:n.label,e.level=null===(s=t.question)||void 0===s?void 0:s.level,e.theme=null===(r=t.question)||void 0===r?void 0:r.theme,e.questionVisible=!0,e.questionIndex=t.questionIndex+1,e.totalQuestions=t.totalQuestions,t.userCount>0?(e.goodAnswerCount=t.goodAnswerCount,e.userCount=t.userCount,e.goodAnswerPercentage=oe()(e.goodAnswerCount/e.userCount).format("0 %")):(e.goodAnswerCount=0,e.userCount=0,e.goodAnswerPercentage=void 0)):(e.question=void 0,e.level=void 0,e.theme=void 0,e.questionVisible=!1,e.questionIndex=void 0,e.totalQuestions=void 0,e.goodAnswerCount=0,e.userCount=0,e.goodAnswerPercentage=void 0)})),e.room.onMessage("game.next_phase",(function(){e.question=void 0,e.level=void 0,e.theme=void 0,e.questionVisible=!1,e.questionIndex=void 0,e.totalQuestions=void 0,e.goodAnswerCount=0,e.userCount=0,e.goodAnswerPercentage=void 0})));case 1:case"end":return t.stop()}}),t)})))()}}},le=ae,ue=Object(m["a"])(le,se,re,!1,null,null,null),ce=ue.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-full text-gray-300 flex flex-row pt-8"},[n("div",{staticClass:"w-2/5 hidden md:flex flex-col px-4"},[n("div",{staticClass:"flex w-full justify-center mb-4"},[n("button",{class:["inline-flex","items-center","focus:outline-none",0===e.activeTab?"bg-clean-blue-500":void 0,0===e.activeTab?"text-electric-blue-500":void 0,"hover:bg-clean-blue-500","hover:text-electric-blue-500","py-2","px-4","rounded-l-lg","border-clean-blue-500","border-1","uppercase"],on:{click:function(t){return t.preventDefault(),e.selectTab(0)}}},[n("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"trophy","fixed-width":""}}),e._v(" Podium ")],1),n("button",{class:["inline-flex","items-center","focus:outline-none",1===e.activeTab?"bg-clean-blue-500":void 0,1===e.activeTab?"text-electric-blue-500":void 0,"hover:bg-clean-blue-500","hover:text-electric-blue-500","py-2","px-4","rounded-r-lg","border-clean-blue-500","border-1","border-l-0","uppercase"],on:{click:function(t){return t.preventDefault(),e.selectTab(1)}}},[n("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"users","fixed-width":""}}),e._v(" Classement ")],1)]),0===e.activeTab?n("div",{staticClass:"flex flex-col"},[e._m(0),n("div",{staticClass:"mt-12 space-y-4"},e._l(e.firstRankings,(function(e){return n("div",{key:e.user.id},[n("QuestionAnswerResultEntry",{attrs:{points:"",user:e.user,gold:1===e.rank,silver:2===e.rank,bronze:3===e.rank}})],1)})),0)]):e._e(),1===e.activeTab?n("div",{staticClass:"flex felx-row"},[n("PlayerList",{attrs:{room:e.room,title:!1}})],1):e._e()]),n("div",{staticClass:"w-full md:w-3/5 flex flex-col px-4"},[n("GameUserResult",{attrs:{room:e.room}}),n("GameQuestionResult",{attrs:{room:e.room}})],1)])},me=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mx-16 mt-8"},[s("img",{attrs:{src:n("f031")}})])}],fe=(n("d86f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("div",{class:[e.gold?"bg-gold-500":void 0,e.silver?"bg-silver-500":void 0,e.bronze?"bg-bronze-500":void 0,e.gold?"text-gray-600":void 0,e.bronze||e.silver?"text-gray-200":void 0,"flex","rounded-lg","py-2","pr-4"]},[s("div",{staticClass:"w-12 lg:w-16 flex justify-center"},[e.gold?s("img",{staticClass:"w-12 h-12 absolute -mt-2",attrs:{src:n("8c9f")}}):e._e(),e.silver?s("img",{staticClass:"w-12 h-12 absolute -mt-2",attrs:{src:n("cebc")}}):e._e(),e.bronze?s("img",{staticClass:"w-12 h-12 absolute -mt-2",attrs:{src:n("5bcf")}}):e._e()]),e.user&&!e.user.guest?s("div",{staticClass:"w-8 h-8 mr-1 hidden lg:flex flex-shrink-0 rounded-full"},[s("img",{staticClass:"rounded-full",attrs:{src:e.avatar}})]):e._e(),e.user&&!e.user.guest?s("div",{staticClass:"w-8 h-8 mr-2 hidden justify-center items-center lg:flex flex-shrink-0"},[s("PlayerBadge",{staticClass:"w-8 h-8",attrs:{path:e.user.badgePath,description:e.user.badgeDescription}})],1):e._e(),e.user&&e.user.guest?s("div",{staticClass:"w-16 mr-3 justify-start flex flex-row"},[e._m(0)]):e._e(),e.user.guest?e._e():s("div",{staticClass:"px-2 truncate leading-8 cursor-pointer",on:{click:function(t){return t.preventDefault(),e.openProfileModal()}}},[e._v(" "+e._s(e.user.name)+" ")]),e.user.guest?s("div",{staticClass:"px-2 truncate leading-8"},[e._v(" "+e._s(e.user.name)+" ")]):e._e(),s("div",{staticClass:"flex-grow"}),e.time?s("div",{staticClass:"flex-shrink-0 leading-8"},[e._v(" "+e._s(e._f("round")(e.user.answerTime/1e3,2))+" s ")]):e._e(),e.points?s("div",{staticClass:"flex-shrink-0 leading-8"},[e._v(e._s(e.user.points))]):e._e()]):e._e()}),pe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-8 h-8 rounded-full shadow-md hidden lg:flex flex-shrink-0"},[s("img",{staticClass:"rounded-full border-2 border-white",attrs:{src:n("065f")}})])}],he={components:{PlayerBadge:L["a"]},props:{user:Object,bronze:Boolean,silver:Boolean,gold:Boolean,time:Boolean,points:Boolean},computed:{avatar:function(){return this.user.avatarPath?n("e078")("./".concat(this.user.avatarPath,".png")):void 0}},methods:{openProfileModal:function(){this.$modal.show(P["a"],{userId:this.user.id},{width:350})}}},ge=he,ve=Object(m["a"])(ge,fe,pe,!1,null,null,null),xe=ve.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppCard",{class:["max-h-full","flex-grow","first-game-row","overflow-hidden","justify-between",e.title?"title":"no-title"],attrs:{title:e.title?"Joueurs":void 0,"right-title":e.title?String(e.users.length):void 0,scrollable:""}},[n("overlay-scrollbars",{staticClass:"max-h-full first-game-row-scroll pr-4"},[n("div",{staticClass:"flex flex-col"},e._l(e.sortedUsers,(function(e){return n("PlayerListEntry",{key:e.id,attrs:{user:e}})})),1),n("div",{staticClass:"flex flex-col text-center"},[e.ellipsisCount>1?n("p",[e._v(" … et "+e._s(e.ellipsisCount)+" autres joueurs ")]):e._e(),1===e.ellipsisCount?n("p",[e._v("… et un autre joueur")]):e._e()])])],1)},we=[],_e=(n("33ef"),{components:{AppCard:b["a"],PlayerListEntry:j},props:{room:Object,playerLimit:Number,title:Boolean},data:function(){return{users:[],userCount:0}},computed:{ellipsisCount:function(){if(this.playerLimit&&!(this.users.length<=this.playerLimit))return this.users.length-this.playerLimit},sortedUsers:function(){return this.users.slice().sort((function(e,t){var n=0===e.position?1/0:e.position,s=0===t.position?1/0:t.position,r=n-s;return 0!==r?r:(r=e.name.localeCompare(t.name),0!==r?r:0)})).slice(0,this.users.length)}},watch:{room:{handler:function(){this.setupRoomListeners()}}},mounted:function(){this.setupRoomListeners()},unmounted:function(){this.teardownRoomListeners()},methods:{setupRoomListeners:function(){var e=this;this.stateChangeListener=function(t){e.users=t.users.map((function(e){return{id:e.id,name:e.name,avatar:e.avatarPath?n("e078")("./".concat(e.avatarPath,".png")):void 0,badgePath:e.badgePath,badgeDescription:e.badgeDescription,guest:e.guest,points:e.points,questionResult:e.questionResult,position:e.position,online:e.online}}))},this.room&&(this.stateChangeListener(this.room.state),this.room.onStateChange(this.stateChangeListener))},teardownRoomListeners:function(){this.room&&this.stateChangeListener&&this.room.onStateChange.remove(this.stateChangeListener)}}}),Ce=_e,Re=(n("ff16"),Object(m["a"])(Ce,be,we,!1,null,"6ba19165",null)),ye=Re.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppCard",{staticClass:"mb-8",attrs:{title:"Résultats"}},[n("div",{staticClass:"w-12 h-12 flex justify-center",attrs:{slot:"header-append",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}},slot:"header-append"},[n("VueEllipseProgress",{attrs:{progress:100*(e.resultTime-e.resultRemainingTime)/e.resultTime,color:"#e2e8f0","empty-color":"#204A6C",thickness:4,"empty-thickness":4,size:40,animation:"default 400 200","font-color":"#e2e8f0","legend-value":e.resultRemainingTime,"font-size":".9rem"}},[n("span",{attrs:{slot:"legend-value"},slot:"legend-value"})])],1),n("div",{staticClass:"flex text-center flex-col"},[e.ranking>0?n("div",{staticClass:"text-4xl text-center justify-center"},[n("span",[e._v(e._s(e.ranking))]),e.ranking>1?n("span",[n("sup",[e._v("e")])]):e._e(),1===e.ranking?n("span",[n("sup",[e._v("er")])]):e._e(),e.totalUsers>1?n("span",{staticClass:"text-lg"},[e._v(" / "+e._s(e.totalUsers)+" joueurs")]):e._e(),1===e.totalUsers?n("span",{staticClass:"text-lg"},[e._v(" / 1 joueur")]):e._e()]):e._e(),e.points>0?n("div",{staticClass:"text-4xl text-center justify-center"},[n("span",[e._v(e._s(e.points))]),e.points>1?n("span",[e._v(" points")]):e._e(),1===e.points?n("span",[e._v(" point")]):e._e()]):e._e(),e.profile?n("PlayerExperienceBar",{attrs:{profile:e.profile}}):e._e()],1)])},qe=[],Ee=n("0b38"),ke=n("9ce4"),Le=n("263c"),Pe={components:{AppCard:b["a"],PlayerExperienceBar:Le["a"]},props:{room:Object},data:function(){return{ranking:0,points:0,totalUsers:0,resultTime:0,resultRemainingTime:0}},computed:Object(Ee["a"])({},Object(ke["b"])({profile:"profile"})),watch:{resultRemainingTime:{handler:function(e){var t=this;e>0&&setTimeout((function(){t.resultRemainingTime>0&&t.resultRemainingTime--}),1e3)},immediate:!0},room:{handler:function(){this.setupRoomListeners()}}},created:function(){this.setupRoomListeners()},methods:{setupRoomListeners:function(){var e=this;this.room&&(this.room.onMessage("game.phase",function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("GAME_RESULT"!==n.type){t.next=8;break}return e.resultTime=n.remainingSeconds,e.resultRemainingTime=n.remainingSeconds,t.t0=e.$store,t.next=6,w["a"].getCurrentUserProfile();case 6:t.t1=t.sent,t.t0.commit.call(t.t0,"setProfile",t.t1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.room.onMessage("game.result",(function(t){e.ranking=t.ranking,e.points=t.points,e.totalUsers=t.totalUsers})))}}},Se=Pe,Oe=Object(m["a"])(Se,Te,qe,!1,null,null,null),Ae=Oe.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.questions&&e.questions.length>0?n("AppCard",{staticClass:"max-questions-height mb-8",attrs:{title:"Questions",scrollable:"","small-padding-left":""}},[n("overlay-scrollbars",{staticClass:"max-h-full max-questions-scroll-height"},[n("div",{staticClass:"flex flex-col lg:space-y-2"},e._l(e.questions,(function(t,s){return n("div",{key:t.instanceId},[n("QuestionListEntry",{attrs:{question:t,result:e.questionResults[s]}})],1)})),0)])],1):e._e()},Ie=[],Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-row items-center px-2 group hover:bg-dark-blue-700 py-2 lg:py-3 rounded-lg select-none"},[n("div",{staticClass:"w-8 flex-shrink-0"},[n("QuestionResultIcon",{attrs:{result:e.result}})],1),n("div",{staticClass:"w-8 h-8 lg:w-12 lg:h-12 mr-3 flex-shrink-0"},[n("img",{staticClass:"w-full h-full",attrs:{src:e.iconPath}})]),n("div",{staticClass:"flex-grow text-xs lg:text-sm"},[n("p",{staticClass:"font-bold",domProps:{innerHTML:e._s(e.question.label)}}),n("p",{},[n("font-awesome-icon",{staticClass:"text-xs mr-2",attrs:{icon:"pencil-alt"}}),n("span",{domProps:{innerHTML:e._s(e.question.answerText)}})],1)]),n("div",{staticClass:"flex flex-row lg:flex-col mr-3 invisible group-hover:visible"},[n("div",{staticClass:"text-xs lg:text-sm hover:bg-clean-blue-500 py-1 px-2 rounded-lg cursor-pointer"},[n("a",{staticClass:"focus:outline-none",attrs:{href:e.question.searchLink,target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1)]),n("div",{staticClass:"text-xs lg:text-sm hover:bg-clean-blue-500 py-1 px-2 rounded-lg cursor-pointer"},[n("button",{staticClass:"focus:outline-none",on:{click:function(t){return t.preventDefault(),e.openReportModal()}}},[n("font-awesome-icon",{attrs:{icon:"flag"}})],1)])])])},$e=[],Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col"},[n("button",{staticClass:"p-1 ml-auto bg-transparent border-0 text-gray-300 absolute right-4 top-4 leading-none outline-none focus:outline-none hover:text-electric-blue-500",on:{click:function(t){return e.$emit("close")}}},[n("span",{staticClass:"h-6 w-6 block outline-none focus:outline-none "},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)]),n("div",{staticClass:"w-full flex flex-col"},[n("h2",{staticClass:"text-2xl text-gray-300 font-serif tracking-wide font-bold uppercase mb-2"},[e._v(" Signalement ")]),n("div",{staticClass:"flex flex-row items-center group py-2 rounded-lg select-none"},[n("div",{staticClass:"w-12 h-12 mr-3 flex-shrink-0"},[n("img",{staticClass:"w-full h-full",attrs:{src:e.iconPath}})]),n("div",{staticClass:"flex-grow text-xs"},[n("p",{staticClass:"font-bold",domProps:{innerHTML:e._s(e.question.label)}}),n("p",{},[n("font-awesome-icon",{staticClass:"text-xs mr-2",attrs:{icon:"pencil-alt"}}),n("span",{domProps:{innerHTML:e._s(e.question.answerText)}})],1)])]),n("div",{staticClass:"flex items-center mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.reportReason,expression:"reportReason"}],staticClass:"hidden",attrs:{id:"radio-question-error",type:"radio",name:"radio",value:"QUESTION_ERROR"},domProps:{checked:e._q(e.reportReason,"QUESTION_ERROR")},on:{change:function(t){e.reportReason="QUESTION_ERROR"}}}),e._m(0)]),n("div",{staticClass:"flex items-center mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.reportReason,expression:"reportReason"}],staticClass:"hidden",attrs:{id:"radio-answer-error",type:"radio",name:"radio",value:"ANSWER_ERROR"},domProps:{checked:e._q(e.reportReason,"ANSWER_ERROR")},on:{change:function(t){e.reportReason="ANSWER_ERROR"}}}),e._m(1)]),e.question.theme?n("div",{staticClass:"flex items-center mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.reportReason,expression:"reportReason"}],staticClass:"hidden",attrs:{id:"radio-category-error",type:"radio",name:"radio",value:"CATEGORY_ERROR"},domProps:{checked:e._q(e.reportReason,"CATEGORY_ERROR")},on:{change:function(t){e.reportReason="CATEGORY_ERROR"}}}),n("label",{staticClass:"flex items-center cursor-pointer",attrs:{for:"radio-category-error"}},[n("span",{staticClass:"w-4 h-4 inline-block mr-2 rounded-full border border-grey"}),e._v(" Ce n'est pas une question « "+e._s(e.question.theme.name)+" » ")])]):e._e(),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reportDetails,expression:"reportDetails"}],staticClass:"rounded-md bg-dark-blue-700 p-2 focus:outline-none resize-none",attrs:{placeholder:"Précisez votre signalement",maxlength:"128"},domProps:{value:e.reportDetails},on:{input:function(t){t.target.composing||(e.reportDetails=t.target.value)}}}),e._v(" "),e.loading?e._e():n("div",{staticClass:"flex flex-row w-full justify-center mt-5"},[n("button",{staticClass:"border-2 border-clean-blue-500 hover:bg-clean-blue-500 text-lg px-4 py-2 rounded-lg focus:outline-none text-gray-300 bg-clear-blue-500 mx-auto hover:text-electric-blue-500 disabled:text-gray-400 disabled:bg-gray-700 disabled:cursor-not-allowed",attrs:{type:"submit",disabled:!e.reportReason},on:{click:function(t){return e.save()}}},[e._v(" Envoyer ")])]),e.loading?n("AppLoader"):e._e()],1)])},Fe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"flex items-center cursor-pointer",attrs:{for:"radio-question-error"}},[n("span",{staticClass:"w-4 h-4 inline-block mr-2 rounded-full border border-grey"}),e._v(" Le texte de la question est incorrect ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"flex items-center cursor-pointer",attrs:{for:"radio-answer-error"}},[n("span",{staticClass:"w-4 h-4 inline-block mr-2 rounded-full border border-grey"}),e._v(" Ma réponse aurait dû être acceptée ")])}],Ue=n("c863"),Be=n("f5f2"),Ve=n("30c6"),De=n("62e4"),Qe="/question-instance",ze=function(){function e(){Object(Be["a"])(this,e)}return Object(Ve["a"])(e,[{key:"reportQuestion",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(De["c"])("".concat(Qe,"/").concat(t,"/report"),{reason:n,details:s}));case 1:case"end":return e.stop()}}),e)})));function t(t,n,s){return e.apply(this,arguments)}return t}()}]),e}(),Ge=new ze,He={components:{AppLoader:Ue["a"]},props:{question:Object},data:function(){return{reportReason:void 0,reportDetails:void 0,loading:!1}},computed:{iconPath:function(){return n("e091")("./".concat(this.question.theme.icon,".png"))}},methods:{save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Ge.reportQuestion(e.question.instanceId,e.reportReason,e.reportDetails);case 3:e.$emit("close");case 4:case"end":return t.stop()}}),t)})))()}}},We=He,Ye=(n("b21e"),Object(m["a"])(We,Ne,Fe,!1,null,"0f5854e7",null)),Je=Ye.exports,Ke={components:{QuestionResultIcon:Z},props:{question:Object,result:Number},computed:{iconPath:function(){return n("e091")("./".concat(this.question.theme.icon,".png"))}},methods:{openReportModal:function(){this.$modal.show(Je,{question:this.question},{width:500})}}},Ze=Ke,Xe=Object(m["a"])(Ze,Me,$e,!1,null,null,null),et=Xe.exports,tt={components:{AppCard:b["a"],QuestionListEntry:et},props:{room:Object},data:function(){return{questions:[],questionResults:[],questionIndex:-1}},watch:{room:{handler:function(){this.setupRoomListeners()}}},created:function(){this.setupRoomListeners()},methods:{setupInitialQuestionResults:function(e){var t=this;a.a.range(0,e).forEach((function(e){a.a.isNil(t.questionResults[e])&&t.$set(t.questionResults,e,-1)}))},setupRoomListeners:function(){var e=this;this.room&&(this.room.onStateChange((function(t){e.setupInitialQuestionResults(t.questionCount)})),this.room.onMessage("question.answered",(function(t){e.$set(e.questionResults,t.questionIndex,t.questionResult),e.points=t.points})),this.room.onMessage("question.result",(function(t){t.questionIndex===e.questionIndex&&e.$set(e.questionResults,t.questionIndex,t.questionResult)})),this.room.onMessage("game.phase",function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"GAME_RESULT"===n.type?e.questions=n.questions:("GAME_START"===n.type?(e.questionResults=a.a.fromPairs(a.a.range(0,e.room.state.questionCount).map((function(e){return[e,-1]}))),e.questionIndex=-1):"QUESTION"===n.type&&(e.questionIndex=n.questionIndex),e.questions=[]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}},nt=tt,st=(n("6e12"),Object(m["a"])(nt,je,Ie,!1,null,null,null)),rt=st.exports,it={components:{QuestionAnswerResultEntry:xe,PlayerList:ye,GameUserResult:Ae,GameQuestionResult:rt},props:{room:Object},data:function(){return{visible:!1,firstRankings:[],ranking:0,points:0,totalUsers:0,questions:[],gameResultVisible:!1,activeTab:0}},watch:{room:{handler:function(){this.setupRoomListeners()}}},created:function(){this.setupRoomListeners()},methods:{setupRoomListeners:function(){var e=this;this.room&&this.room.onMessage("game.phase",function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"GAME_RESULT"===n.type?(e.activeTab=0,e.firstRankings=a.a.concat(a.a.defaultTo(n.firstRankings[0],[]).map((function(e){return{user:e,rank:1}})),a.a.defaultTo(n.firstRankings[1],[]).map((function(e){return{user:e,rank:2}})),a.a.defaultTo(n.firstRankings[2],[]).map((function(e){return{user:e,rank:3}}))),e.questions=n.questions,e.gameResultVisible=!0):(e.firstRankings=[],e.questions=[],e.gameResultVisible=!1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},selectTab:function(e){this.activeTab=e}}},ot=it,at=(n("37e9"),Object(m["a"])(ot,de,me,!1,null,null,null)),lt=at.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.timerVisible?n("div",{class:["flex","flex-center","justify-center"]},[n("VueEllipseProgress",{attrs:{progress:100*(e.totalSeconds+1-e.seconds)/(e.totalSeconds+1),color:"#111421","empty-color":"#204A6C",size:300,animation:"default 400 200","font-color":"#e2e8f0",legend:"","legend-value":e.seconds,"font-size":"5rem",loading:e.indefinite}},[n("span",{attrs:{slot:"legend-value"},slot:"legend-value"})])],1):e._e()},ct=[],dt={props:{room:Object},data:function(){return{totalSeconds:0,seconds:0,timerVisible:!1,indefinite:!1}},watch:{seconds:{handler:function(e){var t=this;e>0&&setTimeout((function(){t.seconds>0&&t.seconds--}),1e3)},immediate:!0},room:{handler:function(){this.setupRoomListeners()}}},created:function(){this.setupRoomListeners()},methods:{setupRoomListeners:function(){var e=this;this.room&&(this.timerVisible=!0,this.indefinite=!0,this.room.onMessage("game.phase",(function(){e.timerVisible=!1})),this.room.onMessage("game.next_phase",(function(t){t.remainingSeconds>5&&(e.totalSeconds=t.remainingSeconds,e.seconds=t.remainingSeconds-1,e.indefinite=!1)})))}}},mt=dt,ft=Object(m["a"])(mt,ut,ct,!1,null,null,null),pt=ft.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppCard",{staticClass:"mb-6"},[n("div",{staticClass:"flex flex-row"},[n("p",{staticClass:"text-2xl text-gray-300 font-serif tracking-wide font-bold uppercase flex-grow"},[e.codeVisible?e._e():n("span",[e._v(e._s(e.roomName))]),e.codeVisible?n("span",[e._v("Code de la partie : "+e._s(e.code))]):e._e()]),n("div",{staticClass:"flex items-center align-center"},[e.canStartGame&&e.waitingForHost?n("popper",[n("button",{staticClass:"py-1 px-2 inline-flex items-center focus:outline-none hover:bg-clean-blue-500 rounded-lg",attrs:{slot:"reference"},on:{click:function(t){return t.preventDefault(),e.start()}},slot:"reference"},[n("font-awesome-icon",{staticClass:"text-xl",attrs:{"fixed-width":"",icon:"play-circle"}})],1),n("div",{staticClass:"popper text-sm mt-2 z-10 bg-clean-blue-500 px-3 py-1 rounded-lg"},[n("p",[e._v("Démarrer la partie")])])]):e._e(),e.canPlayPause&&!e.waitingForHost&&e.paused?n("popper",[n("button",{staticClass:"py-1 px-2 inline-flex items-center focus:outline-none hover:bg-clean-blue-500 rounded-lg",attrs:{slot:"reference"},on:{click:function(t){return t.preventDefault(),e.resume()}},slot:"reference"},[n("font-awesome-icon",{staticClass:"text-xl",attrs:{"fixed-width":"",icon:"play-circle"}})],1),n("div",{staticClass:"popper text-sm mt-2 z-10 bg-clean-blue-500 px-3 py-1 rounded-lg"},[n("p",[e._v("Relancer")])])]):e._e(),!e.canPlayPause||e.waitingForHost||e.paused?e._e():n("popper",[n("button",{staticClass:"py-1 px-2 inline-flex items-center focus:outline-none hover:bg-clean-blue-500 rounded-lg",attrs:{slot:"reference"},on:{click:function(t){return t.preventDefault(),e.pause()}},slot:"reference"},[n("font-awesome-icon",{staticClass:"text-xl",attrs:{"fixed-width":"",icon:"pause-circle"}})],1),n("div",{staticClass:"popper text-sm mt-2 z-10 bg-clean-blue-500 px-3 py-1 rounded-lg"},[n("p",[e._v("Mettre en pause")])])]),e.code?n("popper",{ref:"optionsPopperMenu",attrs:{trigger:"clickToToggle",options:{placement:"bottom-start"}}},[n("button",{staticClass:"py-1 px-2 inline-flex items-center focus:outline-none hover:bg-clean-blue-500 rounded-lg",attrs:{slot:"reference"},slot:"reference"},[n("font-awesome-icon",{staticClass:"text-xl",attrs:{icon:"ellipsis-v"}})],1),n("div",{staticClass:"popper rounded-md shadow-lg z-10"},[n("div",{staticClass:"rounded-md bg-dark-blue-800 shadow-xs"},[e.code?n("div",{staticClass:"py-1"},[n("a",{staticClass:"block px-4 py-2 text-sm leading-5 text-white hover:bg-clean-blue-500 focus:outline-none focus:bg-clean-blue-500 focus:text-white cursor-pointer",on:{click:function(t){return e.toggleCodeVisible()}}},[n("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:e.codeVisible?"check-square":"square"}}),e._v(" Afficher le code ")],1)]):e._e()])])]):e._e()],1)]),n("div",{staticClass:"flex flex-row justify-around items-center"}),e.canPlayPause&&!e.waitingForHost?n("div",{staticClass:"flex flex-row justify-around items-center"}):e._e()])},gt=[],vt=n("d2ca"),xt={components:{popper:x.a,AppCard:b["a"]},props:{room:Object,commands:Array},data:function(){return{waitingForHost:!1,builtIn:void 0,level:void 0,code:void 0,codeVisible:!1,paused:void 0}},computed:{canPlayPause:function(){return a.a.includes(this.commands,"PLAY_PAUSE")},canStartGame:function(){return a.a.includes(this.commands,"START_GAME")},roomName:function(){if(!a.a.isNil(this.builtIn))return this.builtIn?"Salon ".concat(["","initié","confirmé","expert"][this.level]):"Partie personnalisée"}},watch:{room:{handler:function(){this.setupRoomListeners()}}},mounted:function(){this.setupRoomListeners()},methods:{setupRoomListeners:function(){var e=this;this.room&&this.room.onStateChange((function(t){e.code=t.code,e.waitingForHost=t.waitingForHost,e.builtIn=t.builtIn,e.level=t.level,e.paused=t.paused}))},closePoppers:function(){var e=this;a.a.each(["optionsPopperMenu"],(function(t){var n=e.$refs[t];n&&n.doClose()}))},toggleCodeVisible:function(){this.codeVisible=!this.codeVisible,this.closePoppers()},pause:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt["a"].pauseRoom(e.room.id);case 2:case"end":return t.stop()}}),t)})))()},resume:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt["a"].resumeRoom(e.room.id);case 2:case"end":return t.stop()}}),t)})))()},start:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt["a"].startRoom(e.room.id);case 2:case"end":return t.stop()}}),t)})))()}}},bt=xt,wt=Object(m["a"])(bt,ht,gt,!1,null,null,null),_t=wt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.timerVisible?n("div",{class:["flex","flex-center","justify-center"]},[n("VueEllipseProgress",{attrs:{progress:100*(e.totalSeconds+1-e.seconds)/(e.totalSeconds+1),color:"#111421","empty-color":"#204A6C",size:300,animation:"default 400 200","font-color":"#e2e8f0",legend:"","legend-value":e.seconds,"font-size":"5rem"}},[n("span",{attrs:{slot:"legend-value"},slot:"legend-value"})])],1):e._e()},Rt=[],yt={props:{room:Object},data:function(){return{totalSeconds:0,seconds:0,timerVisible:!1}},watch:{seconds:{handler:function(e){var t=this;e>0&&setTimeout((function(){t.seconds>0&&t.seconds--}),1e3)},immediate:!0},room:{handler:function(){this.setupRoomListeners()}}},created:function(){this.setupRoomListeners()},methods:{setupRoomListeners:function(){var e=this;this.room&&this.room.onMessage("game.phase",(function(t){"GAME_START"===t.type?(e.totalSeconds=t.remainingSeconds,e.seconds=t.remainingSeconds,e.timerVisible=!0):(e.totalSeconds=0,e.seconds=0,e.timerVisible=!1)}))}}},Tt=yt,qt=Object(m["a"])(Tt,Ct,Rt,!1,null,null,null),Et=qt.exports,kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.answerVisible?n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"flex mt-6 space-x-4"},[n("div",{class:[e.pointsVisible?"w-3/5":"w-full","content-center","bg-gradient-tr-green","rounded-xl","p-6","items-center","flex","justify-center","text-lg"]},[n("div",{domProps:{innerHTML:e._s(e.answer)}})]),e.pointsVisible?n("div",{staticClass:"w-2/5 text-center flex bg-dark-blue-800 items-center rounded-xl px-6 py-3 text-gray-300"},[e._m(0),n("div",{staticClass:"flex-grow text-center text-xl"},[e.normalPoints>1?n("p",{staticClass:"font-bold"},[e._v(" +"+e._s(e.normalPoints)+" points ")]):e._e(),1===e.normalPoints?n("p",{staticClass:"font-bold"},[e._v(" +"+e._s(e.normalPoints)+" point ")]):e._e(),e.comboPoints>0?n("p",{staticClass:"font-bold"},[e._v(" +"+e._s(e.comboPoints)+" combo ")]):e._e(),n("p",[n("font-awesome-icon",{staticClass:"mr-2 text-sm",attrs:{icon:"stopwatch"}}),n("span",[e._v(" "+e._s(e.formattedAnswerTime)+" s")])],1)])]):e._e()]),e.firstUsers&&e.firstUsers.length?n("div",{staticClass:"text-center flex bg-transparent items-center text-gray-300 mt-4"},[n("div",{staticClass:"flex-grow text-center space-y-3 max-w-full"},[e.goldUser?n("QuestionAnswerResultEntry",{attrs:{time:"",user:e.goldUser,gold:""}}):e._e(),e.silverUser?n("QuestionAnswerResultEntry",{attrs:{time:"",user:e.silverUser,silver:""}}):e._e(),e.bronzeUser?n("QuestionAnswerResultEntry",{attrs:{time:"",user:e.bronzeUser,bronze:""}}):e._e()],1)]):e._e()]):e._e()},Lt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("img",{staticClass:"w-16 mt-1",attrs:{src:n("5e1a")}})])}],Pt={components:{QuestionAnswerResultEntry:xe},props:{room:Object},data:function(){return{answer:void 0,answerLink:void 0,answerVisible:!1,questionInstanceId:void 0,reportEnabled:!1,reportInProgress:!1,reportDone:!1,normalPoints:0,comboPoints:0,formattedAnswerTime:void 0,firstUsers:[]}},computed:{pointsVisible:function(){return this.normalPoints>0||this.comboPoints>0},goldUser:function(){return this.firstUsers.length>0&&this.firstUsers[0]},silverUser:function(){return this.firstUsers.length>1&&this.firstUsers[1]},bronzeUser:function(){return this.firstUsers.length>2&&this.firstUsers[2]}},watch:{room:{handler:function(){this.setupRoomListeners()}}},created:function(){this.setupRoomListeners()},methods:{reportQuestion:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.reportEnabled=!1,t.reportInProgress=!0,n.prev=2,n.next=5,t.$api.reportQuestion(t.questionInstanceId,e);case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](2),console.error(n.t0);case 10:return n.prev=10,t.reportInProgress=!1,t.reportDone=!0,n.finish(10);case 14:case"end":return n.stop()}}),n,null,[[2,7,10,14]])})))()},setupRoomListeners:function(){var e=this;this.room&&(this.room.onMessage("game.phase",(function(t){"QUESTION_RESULT"===t.type?(e.answer=(t.answer||"").toUpperCase(),e.answerLink=t.answerLink,e.answerVisible=!0,e.questionInstanceId=t.questionInstanceId,e.reportEnabled=!0,e.firstUsers=t.firstUsers):(e.answer=void 0,e.answerLink=void 0,e.answerVisible=!1,e.questionInstanceId=void 0,e.reportEnabled=!1,e.firstUsers=[]),e.reportInProgress=!1,e.reportDone=!1})),this.room.onMessage("question.result",(function(t){e.normalPoints=t.normalPoints,e.comboPoints=t.comboPoints,e.formattedAnswerTime=t.answerTime?oe()(t.answerTime/1e3).format("0.00"):void 0})))}}},St=Pt,Ot=Object(m["a"])(St,kt,Lt,!1,null,null,null),At=Ot.exports,jt=10,It={components:{AnswerHistory:p,AnswerInput:y,CurrentPlayerDetails:N,GameAudioPlayer:Q,GameHistoryIndicator:ne,GameQuestion:ce,GameResultScreen:lt,JoiningTimer:pt,PlayerList:ye,PreGameTimer:Et,QuestionAnswerResult:At,RoomCommandPanel:_t},metaInfo:{title:"Salon de jeu"},beforeRouteLeave:function(e,t,n){var s=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.$store.getters.currentRoom,!t){e.next=6;break}return s.leaving=!0,s.$store.commit("setCurrentRoom",void 0),e.next=6,t.leave(!0);case 6:s.reconnectionTimeout&&clearTimeout(s.reconnectionTimeout),n();case 8:case"end":return e.stop()}}),e)})))()},data:function(){return{room:void 0,gameResultVisible:!1,leaving:!1,connectionLost:!1,reconnectionTimeout:void 0,reconnectionTrials:0,sessionId:void 0,commands:[],paused:!1,waitingForHost:!1,appMessageSubscription:void 0,gamePhaseSubscription:void 0}},computed:{canSeeAnswerHistory:function(){return a.a.includes(this.commands,"ANSWER_HISTORY")}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.room=e.$store.getters.currentRoom,!e.room){t.next=6;break}return t.next=4,e.setupRoomListeners();case 4:t.next=7;break;case 6:e.redirectToHome();case 7:case"end":return t.stop()}}),t)})))()},unmounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.teardownRoomListeners();case 2:case"end":return t.stop()}}),t)})))()},methods:{tryToReconnect:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt["a"].reconnect(e.room.id,e.sessionId);case 3:n=t.sent,e.$store.commit("setCurrentRoom",n),e.reconnectionTrials=0,e.room=n,e.setupRoomListeners(),e.connectionLost=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](0),s=!(t.t0&&!t.t0.code)||!(t.t0&&4214===t.t0.code),e.reconnectionTrials++,!s||e.reconnectionTrials>=jt?(e.$notify({title:"Erreur",type:"error",text:"Connexion perdue"}),e.redirectToHome()):e.reconnectionTimeout=setTimeout(e.tryToReconnect.bind(e),1e3);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))()},redirectToHome:function(){this.$router.replace({name:"Home"})},updateWithState:function(e){this.paused=e.paused,this.waitingForHost=e.waitingForHost},setupRoomListeners:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.sessionId=e.room.sessionId,t.next=3,vt["a"].getRoomCommands(e.room.id);case 3:e.commands=t.sent,e.updateWithState(e.room.state),e.appMessageListener=function(t){e.$notify({type:"info",text:t.message})},e.gamePhaseListener=function(t){"GAME_RESULT"===t.type?e.gameResultVisible=!0:e.gameResultVisible=!1},e.leaveListener=function(t){e.leaving||(4216===t&&(e.$notify({title:"Erreur",type:"error",text:"Vous avez été exclu pour inactivité"}),e.redirectToHome()),e.connectionLost=!0,e.reconnectionTimeout&&clearTimeout(e.reconnectionTimeout),e.reconnectionTimeout=setTimeout(e.tryToReconnect.bind(e),1e3))},e.stateChangeListener=function(t){return e.updateWithState(t)},e.room.onStateChange(e.stateChangeListener),e.appMessageSubscription=e.room.onMessage("app.message",e.appMessageListener),e.gamePhaseSubscription=e.room.onMessage("game.phase",e.gamePhaseListener),e.room.onLeave(e.leaveListener);case 10:case"end":return t.stop()}}),t)})))()},teardownRoomListeners:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.appMessageSubscription&&e.appMessageSubscription(),e.gamePhaseSubscription&&e.appMessageSubscription(),e.room&&(e.leaveListener&&e.room.onLeave.remove(e.leaveListener),e.stateChangeListener&&e.room.onStateChange.remove(e.stateChangeListener));case 3:case"end":return t.stop()}}),t)})))()}}},Mt=It,$t=Object(m["a"])(Mt,s,r,!1,null,null,null);t["default"]=$t.exports},e091:function(e,t,n){var s={"./art.png":"2007","./caduceus.png":"3e48","./cartoon.png":"9da2","./clapperboard.png":"0936","./comic-book.png":"5318","./computer.png":"f233","./dictionary.png":"d533","./food.png":"73a0","./game-controller.png":"5580","./globe.png":"a7b4","./history-book.png":"1123","./kylie-jenner.png":"e241","./language.png":"d557","./music.png":"a736","./nature.png":"a1a8","./osiris.png":"af6a","./public-transportation.png":"22dd","./puzzle.png":"9f60","./retro-tv.png":"cf1c","./satellites.png":"2023","./track-and-field.png":"5106","./user-groups.png":"a147","./womens-suit.png":"1e1e"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id="e091"},ff16:function(e,t,n){"use strict";var s=n("b244"),r=n.n(s);r.a}}]);
//# sourceMappingURL=chunk-82e6665c.59f5de51.js.map